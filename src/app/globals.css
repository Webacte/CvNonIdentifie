* {
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

html,
body {
  max-width: 100vw;
  overflow-x: hidden;
}

html {
  min-height: 100%;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  min-height: 100vh;
  background-color: #e6dbbd;
  background-image: 
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(0, 0, 0, 0.02) 2px,
      rgba(0, 0, 0, 0.02) 4px
    ),
    repeating-linear-gradient(
      90deg,
      transparent,
      transparent 2px,
      rgba(0, 0, 0, 0.02) 2px,
      rgba(0, 0, 0, 0.02) 4px
    );
  background-size: 100% 100%, 100% 100%;
  position: relative;
}

body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: 
    radial-gradient(circle at 20% 50%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 80% 80%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 40% 20%, rgba(0, 0, 0, 0.02) 0%, transparent 50%),
    linear-gradient(to bottom, rgba(255, 248, 220, 0.15) 0%, rgba(255, 248, 220, 0.08) 100%);
  pointer-events: none;
  z-index: 0;
}

/* Surcouche « mur / sol » : recopie le fond sous la ligne de sol.
   Tout ce qui est sous la ligne est recouvert ; les objets avec z-index < 10
   pourront être masqués partiellement derrière cette couche. */
.ground-overcoat {
  position: absolute;
  top: 83.33%;
  left: 0;
  width: 100%;
  min-width: 100%;
  bottom: 0;
  z-index: 10;
  pointer-events: none;
  background-color: #e6dbbd;
  background-image:
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(0, 0, 0, 0.02) 2px,
      rgba(0, 0, 0, 0.02) 4px
    ),
    repeating-linear-gradient(
      90deg,
      transparent,
      transparent 2px,
      rgba(0, 0, 0, 0.02) 2px,
      rgba(0, 0, 0, 0.02) 4px
    ),
    radial-gradient(circle at 20% 50%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 80% 80%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 40% 20%, rgba(0, 0, 0, 0.02) 0%, transparent 50%),
    linear-gradient(to bottom, rgba(255, 248, 220, 0.15) 0%, rgba(255, 248, 220, 0.08) 100%);
  background-size: 100% 100%, 100% 100%, 100% 100%, 100% 100%, 100% 100%, 100% 100%;
  background-repeat: repeat, repeat, no-repeat, no-repeat, no-repeat, no-repeat;
}

/* Ligne de sol : à l'intérieur du horizontal-scroll-wrapper, elle scroll avec le contenu */
.ground-line {
  position: absolute;
  top: 83.33%;
  left: 0;
  width: 100%;
  min-width: 100%;
  height: 12px;
  flex-shrink: 0;
  z-index: 11;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 12' preserveAspectRatio='none'%3E%3Cpath d='M0,6 Q30,0.2 60,7.5 Q90,1.8 120,8.2 Q150,0.5 180,6.8 Q210,2.2 240,9 Q270,1 300,5.5 Q330,0.8 360,7.8 Q390,2.5 420,8.5 Q450,1.2 480,6.2 Q510,0.3 540,7.2 Q570,3.5 600,9.5 Q630,0.5 660,6.5 Q690,2.8 720,8.8 Q750,1.5 780,5.8 Q810,0.2 840,7.5 Q870,3.2 900,9.2 Q930,1.8 960,6.5 Q990,0.5 1020,8.2 Q1050,2.5 1080,7.8 Q1110,1.2 1140,6.2 Q1170,0.3 1200,5.5' stroke='%23333' stroke-width='3' fill='none' opacity='0.6'/%3E%3Cpath d='M0,6.5 Q25,1.5 50,8.8 Q75,0.8 100,7.2 Q125,2.5 150,9.5 Q175,1.2 200,6.8 Q225,0.5 250,8.2 Q275,3.5 300,9.8 Q325,1.8 350,5.5 Q375,0.2 400,7.8 Q425,2.2 450,8.5 Q475,1 500,6.2 Q525,0.3 550,7.5 Q575,3.2 600,9.2 Q625,1.5 650,5.8 Q675,0.8 700,8.2 Q725,2.5 750,7.8 Q775,1.2 800,6.5 Q825,0.5 850,8.8 Q875,3.5 900,9.5 Q925,1.8 950,5.2 Q975,0.2 1000,7.5 Q1025,2.2 1050,8.5 Q1075,1 1100,6.2 Q1125,0.3 1150,7.8 Q1175,3.2 1200,9.2' stroke='%23333' stroke-width='2.5' fill='none' opacity='0.45'/%3E%3Cpath d='M0,7 Q35,0.1 70,9.5 Q105,2.8 140,6.2 Q175,1.5 210,8.8 Q245,0.8 280,7.2 Q315,3.5 350,9.8 Q385,1.2 420,5.5 Q455,0.2 490,8.2 Q525,2.5 560,7.8 Q595,1.8 630,6.2 Q665,0.5 700,9.2 Q735,3.2 770,5.8 Q805,1.5 840,8.5 Q875,0.3 910,7.5 Q945,2.2 980,9.5 Q1015,1 1050,6.8 Q1085,0.8 1120,8.2 Q1155,2.5 1190,7.8 L1200,6.5' stroke='%23333' stroke-width='2' fill='none' opacity='0.35'/%3E%3Cpath d='M0,7.5 Q20,1.8 40,9.2 Q60,0.5 80,7.8 Q100,3.2 120,8.5 Q140,1.5 160,6.2 Q180,0.2 200,9.5 Q220,2.8 240,5.5 Q260,1.2 280,8.8 Q300,0.8 320,7.2 Q340,3.5 360,9.8 Q380,1.8 400,6.5 Q420,0.3 440,8.2 Q460,2.5 480,7.8 Q500,1.5 520,5.2 Q540,0.2 560,9.2 Q580,3.2 600,6.8 Q620,1.2 640,8.5 Q660,0.5 680,7.5 Q700,2.8 720,9.8 Q740,1.5 760,5.8 Q780,0.8 800,8.2 Q820,3.5 840,7.2 Q860,1.8 880,9.5 Q900,0.2 920,6.2 Q940,2.5 960,8.8 Q980,1.2 1000,5.5 Q1020,0.3 1040,7.8 Q1060,3.2 1080,6.5 Q1100,1.5 1120,9.2 Q1140,0.5 1160,7.2 Q1180,2.8 1200,8.5' stroke='%23333' stroke-width='1.5' fill='none' opacity='0.3'/%3E%3Cpath d='M0,8 Q15,2.2 30,9.8 Q45,1.5 60,6.5 Q75,0.8 90,8.2 Q105,3.5 120,7.8 Q135,1.2 150,9.5 Q165,0.2 180,5.2 Q195,2.8 210,8.8 Q225,1.8 240,6.2 Q255,0.5 270,9.2 Q285,3.2 300,5.8 Q315,1.5 330,8.5 Q345,0.3 360,7.5 Q375,2.2 390,9.5 Q405,1 420,6.8 Q435,0.8 450,8.2 Q465,2.5 480,7.8 Q495,1.2 510,5.5 Q525,0.2 540,9.2 Q555,3.5 570,6.2 Q585,1.8 600,8.8 Q615,0.5 630,7.2 Q645,2.8 660,9.8 Q675,1.5 690,5.2 Q705,0.8 720,8.5 Q735,3.2 750,6.8 Q765,1.2 780,9.5 Q795,0.2 810,7.8 Q825,2.5 840,5.5 Q855,1.8 870,8.2 Q885,0.3 900,6.2 Q915,3.5 930,9.8 Q945,1.2 960,5.8 Q975,0.5 990,8.8 Q1005,2.8 1020,7.2 Q1035,1.5 1050,9.2 Q1065,0.2 1080,6.5 Q1095,3.2 1110,8.5 Q1125,1.8 1140,5.2 Q1155,0.8 1170,9.5 Q1185,2.2 1200,7.8' stroke='%23333' stroke-width='1' fill='none' opacity='0.25'/%3E%3C/svg%3E");
  background-size: 100% 100%;
  background-repeat: no-repeat;
  pointer-events: none;
}

.handwriting-svg path {
  /* Rendre les lettres pleines avec fill, mais stroke plus fin pour la lisibilité */
  fill: currentColor;
  stroke: currentColor;
  /* Réduire le stroke-width pour améliorer la lisibilité */
  stroke-width: 0.8;
  stroke-linecap: round;
  stroke-linejoin: round;
  /* Le fill-opacity sera contrôlé par JavaScript pour révéler progressivement */
  /* Le stroke est caché par strokeDasharray/offset (géré par Vivus) */
  fill-opacity: 0;
}